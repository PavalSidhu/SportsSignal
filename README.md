# SportsSignal

Sports prediction platform using machine learning to forecast game outcomes across NBA, NHL, MLB, NCAAB, NFL, and NCAAF.

## What Predictions Are Based On

Each prediction is generated by a LightGBM machine learning model trained on historical game data. The model outputs a win probability for the home team, a projected score, and the top 5 factors that most influenced the prediction (ranked by SHAP impact).

All sports share a common set of base factors. Each sport then adds sport-specific stats drawn from boxscore data.

### Base Factors (All Sports)

These 14 factors form the foundation of every prediction:

| Factor | What It Measures |
|--------|-----------------|
| Team rating difference | Elo rating gap between home and away team — the single strongest predictor across all sports |
| Recent form (home/away) | Win percentage over the last 10 games |
| Offensive output (home/away) | Points (or runs/goals) scored per game over the last 20 games |
| Defensive rating (home/away) | Points (or runs/goals) allowed per game over the last 20 games |
| Scoring margin (home/away) | Average point differential over the last 10 games |
| Win streak (home/away) | Current consecutive wins (negative if on a losing streak) |
| Rest advantage (home/away) | Days since last game (capped at 7) |
| Head-to-head record | Home team's win rate in the last 5 matchups between these teams |

### NBA (26 factors)

The 14 base factors plus 12 basketball-specific stats:

| Factor | What It Measures |
|--------|-----------------|
| Shooting efficiency (home/away) | Effective field goal % — accounts for 3-pointers being worth more |
| Turnover rate (home/away) | Turnovers per possession — ball security |
| Free throw rate (home/away) | Free throw attempts per field goal attempt — ability to get to the line |
| Offensive rebounds (home/away) | Offensive rebounding rate — second-chance opportunities |
| Net rating (home/away) | Point differential per 100 possessions — overall efficiency |
| Pace of play (home/away) | Possessions per 48 minutes — tempo |

All basketball-specific stats are rolling 10-game averages.

### NHL (24 factors)

The 14 base factors plus 10 hockey-specific stats:

| Factor | What It Measures |
|--------|-----------------|
| Goaltending (home/away) | Save percentage — how well the goalie stops shots |
| Shot differential (home/away) | Shots for minus shots against — territorial dominance |
| Power play (home/away) | Power play conversion rate — scoring with a man advantage |
| Penalty kill (home/away) | Penalty kill success rate — preventing goals while shorthanded |
| Goals per game (home/away) | Scoring rate |

All hockey-specific stats are rolling 10-game averages.

### MLB (24 factors)

The 14 base factors plus 10 baseball-specific stats:

| Factor | What It Measures |
|--------|-----------------|
| Hitting / OPS (home/away) | On-base plus slugging — overall offensive production |
| Pitching / ERA (home/away) | Earned run average — pitching effectiveness (per-game, not season) |
| Pitching / WHIP (home/away) | Walks + hits per inning pitched — how many baserunners pitchers allow |
| Strikeout-walk ratio (home/away) | Strikeouts divided by walks — pitcher command and dominance |
| Run scoring (home/away) | Runs scored per game |

All baseball-specific stats are rolling 10-game averages.

### NCAAB (22 factors)

The 14 base factors plus 8 college basketball-specific stats:

| Factor | What It Measures |
|--------|-----------------|
| Shooting efficiency (home/away) | Effective field goal % |
| Turnover rate (home/away) | Turnovers per possession |
| Free throw rate (home/away) | Free throw attempts per field goal attempt |
| Offensive rebounds (home/away) | Offensive rebounding rate |

These are the "Four Factors" of basketball — the stats most predictive of winning. NCAAB uses fewer features than the NBA because college boxscore data is less detailed (no pace/net rating available).

All stats are rolling 10-game averages.

### NFL (20 factors)

The 14 base factors plus 6 football-specific stats:

| Factor | What It Measures |
|--------|-----------------|
| Yards per play (home/away) | Total yards divided by total plays — offensive efficiency |
| Turnover margin (home/away) | Turnovers forced minus turnovers committed |
| Third down efficiency (home/away) | Third down conversion percentage — ability to sustain drives |

All stats are rolling 10-game averages.

### NCAAF (20 factors)

Same as NFL — the 14 base factors plus 6 football-specific stats:

| Factor | What It Measures |
|--------|-----------------|
| Yards per play (home/away) | Total yards divided by total plays |
| Turnover margin (home/away) | Turnovers forced minus turnovers committed |
| Third down efficiency (home/away) | Third down conversion percentage |

All stats are rolling 10-game averages.

### How Factor Explanations Work

For each prediction, SHAP (SHapley Additive exPlanations) identifies which factors pushed the prediction most strongly toward one team or the other. The top 5 are displayed with:

- **Direction**: Whether the factor favors the home team or the away team
- **Impact**: How much that factor shifted the win probability

For example, if Duke is playing at home against Syracuse and the model gives Duke a 78% win chance, the top factors might be:

1. **Team rating difference** — favors home (Duke is rated much higher)
2. **Scoring margin (home)** — favors home (Duke wins by 12 pts on average recently)
3. **Shooting efficiency (away)** — favors home (Syracuse has been shooting poorly)
4. **Recent form (home)** — favors home (Duke has won 8 of last 10)
5. **Turnover rate (away)** — favors away (Syracuse has been protecting the ball well)
